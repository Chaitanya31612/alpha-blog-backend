<%= render 'shared/errors', obj: @user %>
<%= form_with(model: @user, local: true) do |f| %>
  <div class="px-3">
    <div class="form-group row mb-2">
      <%= f.label :username, class: "col-form-label fw-semibold text-muted ps-0" %> <br>
      <%= f.text_field :username, class: "form-control", placeholder: "username_123" %>
    </div>
    <div class="form-group row mb-2">
      <%= f.label :email, class: "col-form-label fw-semibold text-muted ps-0" %> <br>
      <%= f.text_field :email, rows: 10, class: "form-control", placeholder: "email@example.com" %>
    </div>
    <div class="form-group row mb-2">
      <%= f.label :password, class: "col-form-label fw-semibold text-muted ps-0" %> <br>
      <%= f.password_field :password, rows: 10, class: "form-control", placeholder: "#{@user.new_record? ? 'Choose your password' : 'Update your password'}" %>
    </div>
    <div class="form-group row">
      <%= f.submit(@user.new_record? ? 'Sign Up' : 'Update account', class: "btn btn-primary mt-4") %>
    </div>
    <% if @user.new_record? %>
    <div class="form-group row mt-3">
        <small class="text-muted ps-0">Already have an account? <%=  link_to 'Login', login_path  %></small>
    </div>
    <%  else  %>
    <div class="form-group row">
      <%=  link_to 'Delete account', user_path(@user), method: :delete, class: 'btn btn-outline-danger mt-4', data: {confirm: 'Are you sure you want to delete the user account and all associated articles?'}  %>
    </div>
    <%  end %>
  </div>
<% end %>